{"version":3,"sources":["webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?2044","webpack:///./src/views/Products.vue","webpack:///./src/components/ProductModal.vue","webpack:///./src/components/ProductModal.vue?f7e1","webpack:///./src/views/Products.vue?b2a7"],"names":["aria-label","class","_createElementVNode","href","aria-hidden","_createElementBlock","_hoisted_3","_Fragment","_renderList","$props","total_pages","page","current_page","key","onClick","$options","_hoisted_4","_hoisted_5","props","methods","updatePage","this","$emit","__exports__","render","width","_createVNode","_component_Loading","active","$data","type","item","id","_toDisplayString","category","title","_ctx","currency","origin_price","price","is_enabled","_hoisted_9","_hoisted_10","_component_Pagination","pages","onEmitPages","_component_ProductModal","ref","product","onUpdateProduct","_component_DelModal","onDelItem","tabindex","aria-labelledby","role","data-bs-dismiss","for","alt","imageUrl","$event","placeholder","_hoisted_11","onChange","_hoisted_12","_hoisted_15","_hoisted_16","_hoisted_19","_hoisted_22","_hoisted_24","unit","_hoisted_27","_hoisted_29","_hoisted_30","_hoisted_32","description","_hoisted_34","content","true-value","false-value","_hoisted_37","_hoisted_39","Object","default","watch","tempProduct","data","modal","uploadFile","uploadedFile","$refs","fileInput","files","formData","FormData","append","url","process","$http","post","then","response","console","log","success","mixins","modalMixin","products","pagination","isNew","isLoading","components","ProductModal","DelModal","Pagination","inject","getProducts","api","get","user","res","openModal","productComponent","productModal","showModal","updateProduct","httpMethod","hideModal","emitter","emit","style","message","join","openDelProductModal","delComponent","delModal","delProduct","delete","created"],"mappings":"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","file":"chunk-7e835253?v=1656990420905.js","sourcesContent":["<template>\r\n  <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination justify-content-center\">\r\n      <li class=\"page-item\">\r\n        <a class=\"page-link\" href=\"#\" aria-label=\"Previous\">\r\n          <span aria-hidden=\"true\">&laquo;</span>\r\n        </a>\r\n      </li>\r\n      <li class=\"page-item\"  v-for=\"page in pages.total_pages\" :key=\"page\" :class=\"{ 'active': page === pages.current_page }\">\r\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(page)\">\r\n            {{page}}\r\n        </a>\r\n      </li>\r\n      <li class=\"page-item\">\r\n        <a class=\"page-link\" href=\"#\" aria-label=\"Next\">\r\n          <span aria-hidden=\"true\">&raquo;</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\n// :pages=\"{ 頁碼資訊 }\"\r\n// @emitPages=\"更新頁面事件\"\r\nexport default {\r\n  props: ['pages'],\r\n  methods: {\r\n    updatePage (page) {\r\n      this.$emit('emit-pages', page)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Pagination.vue?vue&type=template&id=95ce0832\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\VueCli\\\\new-project\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <Loading :active=\"isLoading\"></Loading>\r\n  <div class=\"text-end\">\r\n    <button class=\"btn btn-primary\" type=\"button\" @click=\"openModal(true)\">增加一個產品</button>\r\n  </div>\r\n  <table class=\"table mt-4\">\r\n  <thead>\r\n    <tr>\r\n      <th width=\"120\">分類</th>\r\n      <th>產品名稱</th>\r\n      <th width=\"120\">原價</th>\r\n      <th width=\"120\">售價</th>\r\n      <th width=\"100\">是否啟用</th>\r\n      <th width=\"200\">編輯</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr v-for=\"item in products\" :key=\"item.id\">\r\n      <td>{{item.category}}</td>\r\n      <td>{{item.title}}</td>\r\n      <td class=\"text-right\">\r\n        {{$filters.currency(item.origin_price)}}\r\n      </td>\r\n      <td class=\"text-right\">\r\n        {{$filters.currency(item.price)}}\r\n      </td>\r\n      <td>\r\n        <span class=\"text-success\" v-if=\"item.is_enabled\">啟用</span>\r\n        <span class=\"text-muted\" v-else>未啟用</span>\r\n      </td>\r\n      <td>\r\n        <div class=\"btn-group\">\r\n          <button class=\"btn btn-outline-primary btn-sm\" @click=\"openModal(false,item)\">編輯</button>\r\n          <button class=\"btn btn-outline-danger btn-sm\" @click=\"openDelProductModal(item)\">刪除</button>\r\n          </div>\r\n      </td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n<Pagination :pages=\"pagination\" @emit-pages=\"getProducts\"></Pagination>\r\n<ProductModal ref=\"productModal\" :product=\"tempProduct\" @update-product=\"updateProduct\"></ProductModal>\r\n<DelModal :item=\"tempProduct\" ref=\"delModal\" @del-item=\"delProduct\"/>\r\n</template>\r\n\r\n<script>\r\nimport ProductModal from '@/components/ProductModal.vue'\r\nimport DelModal from '@/components/DelModal.vue'\r\nimport Pagination from '@/components/Pagination.vue'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: [],\r\n      pagination: {},\r\n      tempProduct: {},\r\n      isNew: false,\r\n      isLoading: false\r\n    }\r\n  },\r\n  components: {\r\n    ProductModal,\r\n    DelModal,\r\n    Pagination\r\n  },\r\n  inject: ['emitter'],\r\n  methods: {\r\n    getProducts (page = 1) {\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/products/?page=${page}`\r\n      console.log(api)\r\n      this.isLoading = true\r\n      this.$http.get(api, this.user)\r\n        .then((res) => {\r\n          this.isLoading = false\r\n          if (res.data.success) {\r\n            console.log(res.data)\r\n            this.products = res.data.products\r\n            this.pagination = res.data.pagination\r\n          }\r\n        })\r\n    },\r\n    openModal (isNew, item) {\r\n      if (isNew) {\r\n        this.tempProduct = {}\r\n      } else {\r\n        this.tempProduct = { ...item }\r\n      }\r\n      this.isNew = isNew\r\n      const productComponent = this.$refs.productModal\r\n      productComponent.showModal()\r\n    },\r\n    updateProduct (item) {\r\n      this.tempProduct = item\r\n      // 新增\r\n      let api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product`\r\n      let httpMethod = 'post'\r\n      // 編輯\r\n      if (!this.isNew) {\r\n        api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`\r\n        httpMethod = 'put'\r\n      }\r\n      const productComponent = this.$refs.productModal\r\n      this.$http[httpMethod](api, { data: this.tempProduct }).then((response) => {\r\n        console.log(response)\r\n        productComponent.hideModal()\r\n        if (response.data.success) {\r\n          this.getProducts()\r\n          this.emitter.emit('push-message', {\r\n            style: 'success',\r\n            title: '更新成功'\r\n          })\r\n        } else {\r\n          this.emitter.emit('push-message', {\r\n            style: 'danger',\r\n            title: '更新失敗',\r\n            content: response.data.message.join('、')\r\n          })\r\n        }\r\n      })\r\n    },\r\n    openDelProductModal (item) {\r\n      this.tempProduct = { ...item }\r\n      const delComponent = this.$refs.delModal\r\n      delComponent.showModal()\r\n    },\r\n    delProduct () {\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`\r\n      this.$http.delete(url).then((response) => {\r\n        console.log(response.data)\r\n        const delComponent = this.$refs.delModal\r\n        delComponent.hideModal()\r\n        this.getProducts()\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.getProducts()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" ref=\"modal\">\r\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n  <div class=\"modal-content border-0\">\r\n    <div class=\"modal-header bg-dark text-white\">\r\n      <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n        <span>新增產品</span>\r\n      </h5>\r\n      <button type=\"button\" class=\"btn-close\"\r\n              data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"modal-body\">\r\n      <div class=\"row\">\r\n        <div class=\"col-sm-4\">\r\n          <div class=\"mb-3\">\r\n            <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\r\n            <input type=\"text\" class=\"form-control\" id=\"image\"\r\n                    v-model=\"tempProduct.imageUrl\"\r\n                    placeholder=\"請輸入圖片連結\">\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"customFile\" class=\"form-label\">或 上傳圖片\r\n              <i class=\"fas fa-spinner fa-spin\"></i>\r\n            </label>\r\n            <input type=\"file\" id=\"customFile\" class=\"form-control\" ref=\"fileInput\" @change=\"uploadFile\">\r\n          </div>\r\n          <img class=\"img-fluid\" alt=\"\">\r\n          <!-- 延伸技巧，多圖 -->\r\n          <div class=\"mt-5\">\r\n            <div class=\"mb-3 input-group\" >\r\n              <input type=\"url\" class=\"form-control form-control\"\r\n                      v-model=\"tempProduct\"\r\n                      placeholder=\"請輸入連結\">\r\n              <button type=\"button\" class=\"btn btn-outline-danger\">\r\n                移除\r\n              </button>\r\n            </div>\r\n            <div>\r\n              <button class=\"btn btn-outline-primary btn-sm d-block w-100\">\r\n                新增圖片\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-sm-8\">\r\n          <div class=\"mb-3\">\r\n            <label for=\"title\" class=\"form-label\">標題</label>\r\n            <input type=\"text\" class=\"form-control\" id=\"title\"\r\n                    v-model=\"tempProduct.title\"\r\n                    placeholder=\"請輸入標題\">\r\n          </div>\r\n\r\n          <div class=\"row gx-2\">\r\n            <div class=\"mb-3 col-md-6\">\r\n              <label for=\"category\" class=\"form-label\">分類</label>\r\n              <input type=\"text\" class=\"form-control\" id=\"category\"\r\n                      v-model=\"tempProduct.category\"\r\n                      placeholder=\"請輸入分類\">\r\n            </div>\r\n            <div class=\"mb-3 col-md-6\">\r\n              <label for=\"price\" class=\"form-label\">單位</label>\r\n              <input type=\"text\" class=\"form-control\" id=\"unit\"\r\n                      v-model=\"tempProduct.unit\"\r\n                      placeholder=\"請輸入單位\">\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row gx-2\">\r\n            <div class=\"mb-3 col-md-6\">\r\n              <label for=\"origin_price\" class=\"form-label\">原價</label>\r\n              <input type=\"number\" class=\"form-control\" id=\"origin_price\"\r\n                      v-model.number=\"tempProduct.origin_price\"\r\n                      placeholder=\"請輸入原價\">\r\n            </div>\r\n            <div class=\"mb-3 col-md-6\">\r\n              <label for=\"price\" class=\"form-label\">售價</label>\r\n              <input type=\"number\" class=\"form-control\" id=\"price\"\r\n                      v-model.number=\"tempProduct.price\"\r\n                      placeholder=\"請輸入售價\">\r\n            </div>\r\n          </div>\r\n          <hr>\r\n\r\n          <div class=\"mb-3\">\r\n            <label for=\"description\" class=\"form-label\">產品描述</label>\r\n            <textarea type=\"text\" class=\"form-control\" id=\"description\"\r\n                      v-model=\"tempProduct.description\"\r\n                      placeholder=\"請輸入產品描述\"></textarea>\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"content\" class=\"form-label\">說明內容</label>\r\n            <textarea type=\"text\" class=\"form-control\" id=\"content\"\r\n                      v-model=\"tempProduct.content\"\r\n                      placeholder=\"請輸入產品說明內容\"></textarea>\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <div class=\"form-check\">\r\n              <input class=\"form-check-input\" type=\"checkbox\"\r\n                      :true-value=\"1\"\r\n                      :false-value=\"0\"\r\n                      v-model=\"tempProduct.is_enabled\"\r\n                      id=\"is_enabled\">\r\n              <label class=\"form-check-label\" for=\"is_enabled\">\r\n                是否啟用\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n      <button type=\"button\" class=\"btn btn-outline-secondary\"\r\n              data-bs-dismiss=\"modal\">取消\r\n      </button>\r\n      <button type=\"button\" class=\"btn btn-primary\" @click=\"$emit('update-product',tempProduct)\">確認</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport modalMixin from '@/mixins/modalMixin'\r\n\r\nexport default {\r\n  props: {\r\n    product: {\r\n      type: Object,\r\n      default () { return {} }\r\n    }\r\n  },\r\n  watch: {\r\n    product () {\r\n      this.tempProduct = this.product\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      modal: {},\r\n      tempProduct: {}\r\n    }\r\n  },\r\n  methods: {\r\n    uploadFile () {\r\n      const uploadedFile = this.$refs.fileInput.files[0]\r\n      // console.dir(uploadedFile)\r\n      const formData = new FormData()\r\n      formData.append('file-to-upload', uploadedFile)\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/upload`\r\n      this.$http.post(url, formData).then((response) => {\r\n        console.log(response.data)\r\n        if (response.data.success) {\r\n          this.tempProduct.imageUrl = response.data.imageUrl\r\n        }\r\n      })\r\n    }\r\n  },\r\n  mixins: [modalMixin]\r\n}\r\n</script>\r\n","import { render } from \"./ProductModal.vue?vue&type=template&id=6594e325\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\VueCli\\\\new-project\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Products.vue?vue&type=template&id=5e674554\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\VueCli\\\\new-project\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}