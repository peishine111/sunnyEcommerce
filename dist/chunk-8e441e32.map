{"version":3,"sources":["webpack:///./src/views/UserCart.vue","webpack:///./src/views/UserCart.vue?6ec1","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["class","_createElementVNode","style","_hoisted_16","colspan","for","_createVNode","_component_Loading","active","_ctx","type","onClick","$options","_hoisted_2","_toDisplayString","coupon","_hoisted_8","$data","carts","_createElementBlock","_Fragment","key","_renderList","item","id","product","title","min","disabled","loadingItem","onChange","qty","$event","unit","final_total","total","currency","_hoisted_18","_hoisted_20","_hoisted_21","placeholder","_component_Form","onSubmit","errors","_component_Field","name","rules","user","email","_hoisted_29","_component_ErrorMessage","_hoisted_32","tel","_hoisted_35","address","_hoisted_38","message","_hoisted_41","_hoisted_42","data","products","status","form","cart","coupon_code","isClick","methods","getProducts","url","process","this","isLoading","$http","get","then","response","console","log","getProduct","$router","push","addCart","product_id","post","res","getCart","updateCart","put","removeCartItem","delete","$httpMessageState","addCouponCode","code","createOrder","order","orderId","getCoupon","num","Math","floor","random","created","__exports__","render","DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","uncurryThis","defineProperty","f","FunctionPrototype","Function","prototype","functionToString","toString","nameRE","regExpExec","exec","NAME","configurable","error"],"mappings":"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","file":"chunk-8e441e32?v=1660460684607.js","sourcesContent":["<template>\r\n  <Loading :active=\"isLoading\"></Loading>\r\n  <div class=\"container\">\r\n    <button type=\"button\" class=\"getcoupon mx-5\" @click=\"getCoupon\">點我抽優惠券</button>\r\n    <h3 class=\"d-inline-block mx-5\">優惠券代碼:</h3>\r\n    <h1 class=\"d-inline-block\" v-text=\"this.coupon\"></h1>\r\n    <div class=\"row\">\r\n    <div class=\"row mt-4 col-md-6\">\r\n      <!-- 購物車列表 -->\r\n      <div>\r\n        <div class=\"sticky-top\">\r\n          <table class=\"table align-middle\">\r\n            <thead>\r\n              <tr>\r\n                <th>品名</th>\r\n                <th style=\"width: 110px\">數量</th>\r\n                <th>單位</th>\r\n                <th class=\"text-end\">單價</th>\r\n                <th></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n            <template v-if=\"cart.carts\">\r\n              <tr v-for=\"item in cart.carts\" :key=\"item.id\">\r\n                <td>\r\n                  {{ item.product.title }}\r\n                  <div class=\"text-success\" v-if=\"item.coupon\">\r\n                    已套用優惠券\r\n                  </div>\r\n                </td>\r\n                <td>\r\n                  <div class=\"input-group input-group-sm d-flex flex-direction-row\">\r\n                    <input type=\"number\" class=\"form-control\"\r\n                      min=\"1\"\r\n                      :disabled=\"item.id === status.loadingItem\"\r\n                      @change=\"updateCart(item)\"\r\n                      v-model.number=\"item.qty\">\r\n                  </div>\r\n                </td>\r\n                <td><div class=\"input-group\">/ {{ item.product.unit }}</div></td>\r\n                <td class=\"text-end\">\r\n                  <small v-if=\"cart.final_total !== cart.total\" class=\"text-success\">折扣價：</small>\r\n                  {{ $filters.currency(item.final_total) }}\r\n                </td>\r\n                <td>\r\n                  <button type=\"button\" class=\"btn btn-outline-danger btn-sm\"\r\n                          :disabled=\"status.loadingItem === item.id\"\r\n                          @click=\"removeCartItem(item.id)\">\r\n                    <i class=\"bi bi-trash\"></i>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            </template>\r\n            </tbody>\r\n            <tfoot>\r\n           <tr>\r\n              <td colspan=\"3\" class=\"text-end\">總計</td>\r\n              <td class=\"text-end\">{{ $filters.currency(cart.total) }}</td>\r\n            </tr>\r\n            <tr v-if=\"cart.final_total !== cart.total\">\r\n              <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\r\n              <td class=\"text-end text-success\">{{ $filters.currency(cart.final_total) }}</td>\r\n            </tr>\r\n            </tfoot>\r\n          </table>\r\n          <div class=\"input-group mb-3 input-group-sm\">\r\n            <input type=\"text\" class=\"form-control\" v-model=\"coupon_code\" placeholder=\"請輸入優惠碼\">\r\n            <div class=\"input-group-append\">\r\n              <button class=\"btn btn-outline-secondary\" type=\"button\" @click=\"addCouponCode\">\r\n                套用優惠碼\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"text-success\" v-if=\"cart.total===0\">\r\n                    您的購物車還是空的，請到首頁選購!\r\n                  </div>\r\n    </div>\r\n    <div class=\"my-5 row justify-content-center col-md-6\">\r\n      <Form class=\"col-md-12\" v-slot=\"{ errors }\"\r\n            @submit=\"createOrder\">\r\n        <div class=\"mb-3\">\r\n          <div class=\"form-floating mb-3\">\r\n            <Field type=\"email\" class=\"form-control\" id=\"floatingInputEmail\"\r\n            :class=\"{ 'is-invalid': errors['email'] }\"  name=\"email\"\r\n            placeholder=\"請輸入 Email\" rules=\"email|required\"\r\n            v-model=\"form.user.email\"></Field>\r\n            <label for=\"floatingInput\">Email address</label>\r\n            <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <div class=\"form-floating mb-3\">\r\n            <Field type=\"email\" class=\"form-control\" id=\"floatingInputName\"\r\n            :class=\"{ 'is-invalid': errors['姓名'] }\" name=\"姓名\"\r\n            placeholder=\"請輸入姓名\" rules=\"required\"\r\n            v-model=\"form.user.name\"></Field>\r\n            <label for=\"floatingInput\">姓名</label>\r\n            <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <div class=\"form-floating mb-3\">\r\n            <Field type=\"email\" class=\"form-control\" id=\"floatingInputPhone\"\r\n            :class=\"{ 'is-invalid': errors['電話'] }\" name=\"電話\"\r\n            placeholder=\"請輸入電話\" rules=\"required\"\r\n            v-model=\"form.user.tel\"></Field>\r\n            <label for=\"floatingInput\">電話</label>\r\n            <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <div class=\"form-floating mb-3\">\r\n            <Field type=\"email\" class=\"form-control\" id=\"floatingInputAddress\"\r\n            :class=\"{ 'is-invalid': errors['地址'] }\" name=\"地址\"\r\n            placeholder=\"請輸入地址\" rules=\"required\"\r\n            v-model=\"form.user.address\"></Field>\r\n            <label for=\"floatingInput\">收件人地址</label>\r\n            <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <div class=\"form-floating mb-3\">\r\n            <input type=\"email\" class=\"form-control\" id=\"floatingInput\"\r\n            placeholder=\"請輸入留言\" rules=\"required\"\r\n            v-model=\"form.message\">\r\n            <label for=\"floatingInput\">留言</label>\r\n          </div>\r\n        </div>\r\n        <div class=\"text-end\">\r\n          <button class=\"btn btn-primary\">送出訂單</button>\r\n        </div>\r\n      </Form>\r\n    </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: [],\r\n      product: {},\r\n      status: {\r\n        loadingItem: ''\r\n      },\r\n      form: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      },\r\n      cart: {},\r\n      coupon_code: '',\r\n      coupon: '',\r\n      isClick: true\r\n    }\r\n  },\r\n  methods: {\r\n    getProducts () {\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`\r\n      this.isLoading = true\r\n      this.$http.get(url).then((response) => {\r\n        this.products = response.data.products\r\n        console.log('products:', response)\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    getProduct (id) {\r\n      this.$router.push(`/user/product/${id}`)\r\n    },\r\n    addCart (id) {\r\n      console.log(id)\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`\r\n      this.status.loadingItem = id\r\n      const cart = {\r\n        product_id: id,\r\n        qty: 1\r\n      }\r\n      this.$http.post(url, { data: cart })\r\n        .then((res) => {\r\n          this.status.loadingItem = ''\r\n          console.log(res)\r\n          this.getCart()\r\n        })\r\n    },\r\n    getCart () {\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`\r\n      this.isLoading = true\r\n      this.$http.get(url).then((response) => {\r\n        console.log(response)\r\n        this.cart = response.data.data\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    updateCart (item) {\r\n      console.log('updateCart', item)\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${item.id}`\r\n      this.isLoading = true\r\n      this.status.loadingItem = item.id\r\n      const cart = {\r\n        product_id: item.product_id,\r\n        qty: item.qty\r\n      }\r\n      this.$http.put(url, { data: cart }).then((res) => {\r\n        console.log(res)\r\n        this.status.loadingItem = ''\r\n        this.getCart()\r\n      })\r\n    },\r\n    removeCartItem (id) {\r\n      this.status.loadingItem = id\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`\r\n      this.isLoading = true\r\n      this.$http.delete(url).then((response) => {\r\n        this.$httpMessageState(response, '移除購物車品項')\r\n        this.status.loadingItem = ''\r\n        this.getCart()\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    addCouponCode () {\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/coupon`\r\n      const coupon = {\r\n        code: this.coupon_code\r\n      }\r\n      this.isLoading = true\r\n      this.$http.post(url, { data: coupon }).then((response) => {\r\n        this.$httpMessageState(response, '加入優惠券')\r\n        this.getCart()\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    createOrder () {\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order`\r\n      const order = this.form\r\n      this.$http.post(url, { data: order })\r\n        .then((res) => {\r\n          console.log(res)\r\n          const orderId = res.data.orderId\r\n          this.$router.push(`/user/checkout/${orderId}`)\r\n        })\r\n    },\r\n    getCoupon () {\r\n      if (this.isClick === true) {\r\n        this.isClick = false\r\n        const num = Math.floor(Math.random() * 3)\r\n        console.log(num)\r\n        if (num === 0 || num === 1) {\r\n          this.coupon = '週年慶9折'\r\n        } else if (num === 2) {\r\n          this.coupon = '週年慶5折'\r\n        }\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.getProducts()\r\n    this.getCart()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserCart.vue?vue&type=template&id=54723b1b\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\VueCli\\\\new-project\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar functionToString = uncurryThis(FunctionPrototype.toString);\nvar nameRE = /function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/;\nvar regExpExec = uncurryThis(nameRE.exec);\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return regExpExec(nameRE, functionToString(this))[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}