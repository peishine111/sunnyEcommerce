{"version":3,"sources":["webpack:///./src/views/UserCart.vue","webpack:///./src/views/UserCart.vue?52e4","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["class","_createElementVNode","style","_hoisted_16","colspan","for","_createVNode","_component_Loading","active","_ctx","type","onClick","$options","_hoisted_2","_toDisplayString","coupon","_hoisted_8","$data","carts","_createElementBlock","_Fragment","key","_renderList","item","id","product","title","min","disabled","loadingItem","onChange","qty","$event","unit","final_total","total","currency","_hoisted_18","_hoisted_20","_hoisted_21","placeholder","_component_Form","onSubmit","errors","_component_Field","name","rules","user","email","_hoisted_29","_component_ErrorMessage","_hoisted_32","tel","_hoisted_35","address","_hoisted_38","message","_hoisted_41","_hoisted_42","data","products","status","form","cart","coupon_code","isClick","cartTotal","methods","getProducts","url","process","this","isLoading","$http","get","then","response","console","log","getProduct","$router","push","addCart","product_id","post","res","getCart","length","updateCart","put","removeCartItem","delete","$httpMessageState","$emit","addCouponCode","code","createOrder","order","orderId","getCoupon","num","Math","floor","random","created","__exports__","render","DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","uncurryThis","defineProperty","f","FunctionPrototype","Function","prototype","functionToString","toString","nameRE","regExpExec","exec","NAME","configurable","error"],"mappings":"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","file":"chunk-8e441e32?v=1693578387698.js","sourcesContent":["<template>\n  <Loading :active=\"isLoading\"></Loading>\n  <div class=\"container\">\n    <button type=\"button\" class=\"getcoupon mx-5\" @click=\"getCoupon\">點我抽優惠券</button>\n    <h3 class=\"d-inline-block mx-5\">優惠券代碼:</h3>\n    <h1 class=\"d-inline-block\" v-text=\"this.coupon\"></h1>\n    <div class=\"row\">\n    <div class=\"row mt-4 col-md-6\">\n      <!-- 購物車列表 -->\n      <div>\n        <div class=\"sticky-top\">\n          <table class=\"table align-middle\">\n            <thead>\n              <tr>\n                <th>品名</th>\n                <th style=\"width: 110px\">數量</th>\n                <th>單位</th>\n                <th class=\"text-end\">單價</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n            <template v-if=\"cart.carts\">\n              <tr v-for=\"item in cart.carts\" :key=\"item.id\">\n                <td>\n                  {{ item.product.title }}\n                  <div class=\"text-success\" v-if=\"item.coupon\">\n                    已套用優惠券\n                  </div>\n                </td>\n                <td>\n                  <div class=\"input-group input-group-sm d-flex flex-direction-row\">\n                    <input type=\"number\" class=\"form-control\"\n                      min=\"1\"\n                      :disabled=\"item.id === status.loadingItem\"\n                      @change=\"updateCart(item)\"\n                      v-model.number=\"item.qty\">\n                  </div>\n                </td>\n                <td><div class=\"input-group\">/ {{ item.product.unit }}</div></td>\n                <td class=\"text-end\">\n                  <small v-if=\"cart.final_total !== cart.total\" class=\"text-success\">折扣價：</small>\n                  {{ $filters.currency(item.final_total) }}\n                </td>\n                <td>\n                  <button type=\"button\" class=\"btn btn-outline-danger btn-sm\"\n                          :disabled=\"status.loadingItem === item.id\"\n                          @click=\"removeCartItem(item.id)\">\n                    <i class=\"bi bi-trash\"></i>\n                  </button>\n                </td>\n              </tr>\n            </template>\n            </tbody>\n            <tfoot>\n           <tr>\n              <td colspan=\"3\" class=\"text-end\">總計</td>\n              <td class=\"text-end\">{{ $filters.currency(cart.total) }}</td>\n            </tr>\n            <tr v-if=\"cart.final_total !== cart.total\">\n              <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\n              <td class=\"text-end text-success\">{{ $filters.currency(cart.final_total) }}</td>\n            </tr>\n            </tfoot>\n          </table>\n          <div class=\"input-group mb-3 input-group-sm\">\n            <input type=\"text\" class=\"form-control\" v-model=\"coupon_code\" placeholder=\"請輸入優惠碼\">\n            <div class=\"input-group-append\">\n              <button class=\"btn btn-outline-secondary\" type=\"button\" @click=\"addCouponCode\">\n                套用優惠碼\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"text-success\" v-if=\"cart.total===0\">\n                    您的購物車還是空的，請到首頁選購!\n                  </div>\n    </div>\n    <div class=\"my-5 row justify-content-center col-md-6\">\n      <Form class=\"col-md-12\" v-slot=\"{ errors }\"\n            @submit=\"createOrder\">\n        <div class=\"mb-3\">\n          <div class=\"form-floating mb-3\">\n            <Field type=\"email\" class=\"form-control\" id=\"floatingInputEmail\"\n            :class=\"{ 'is-invalid': errors['email'] }\"  name=\"email\"\n            placeholder=\"請輸入 Email\" rules=\"email|required\"\n            v-model=\"form.user.email\"></Field>\n            <label for=\"floatingInput\">Email address</label>\n            <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n        </div>\n\n        <div class=\"mb-3\">\n          <div class=\"form-floating mb-3\">\n            <Field type=\"email\" class=\"form-control\" id=\"floatingInputName\"\n            :class=\"{ 'is-invalid': errors['姓名'] }\" name=\"姓名\"\n            placeholder=\"請輸入姓名\" rules=\"required\"\n            v-model=\"form.user.name\"></Field>\n            <label for=\"floatingInput\">姓名</label>\n            <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n        </div>\n\n        <div class=\"mb-3\">\n          <div class=\"form-floating mb-3\">\n            <Field type=\"email\" class=\"form-control\" id=\"floatingInputPhone\"\n            :class=\"{ 'is-invalid': errors['電話'] }\" name=\"電話\"\n            placeholder=\"請輸入電話\" rules=\"required\"\n            v-model=\"form.user.tel\"></Field>\n            <label for=\"floatingInput\">電話</label>\n            <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n        </div>\n\n        <div class=\"mb-3\">\n          <div class=\"form-floating mb-3\">\n            <Field type=\"email\" class=\"form-control\" id=\"floatingInputAddress\"\n            :class=\"{ 'is-invalid': errors['地址'] }\" name=\"地址\"\n            placeholder=\"請輸入地址\" rules=\"required\"\n            v-model=\"form.user.address\"></Field>\n            <label for=\"floatingInput\">收件人地址</label>\n            <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n        </div>\n\n        <div class=\"mb-3\">\n          <div class=\"form-floating mb-3\">\n            <input type=\"email\" class=\"form-control\" id=\"floatingInput\"\n            placeholder=\"請輸入留言\" rules=\"required\"\n            v-model=\"form.message\">\n            <label for=\"floatingInput\">留言</label>\n          </div>\n        </div>\n        <div class=\"text-end\">\n          <button class=\"btn btn-primary\">送出訂單</button>\n        </div>\n      </Form>\n    </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  data () {\n    return {\n      products: [],\n      product: {},\n      status: {\n        loadingItem: ''\n      },\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: ''\n        },\n        message: ''\n      },\n      cart: {},\n      coupon_code: '',\n      coupon: '',\n      isClick: true,\n      cartTotal: 0\n    }\n  },\n  methods: {\n    getProducts () {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`\n      this.isLoading = true\n      this.$http.get(url).then((response) => {\n        this.products = response.data.products\n        console.log('products:', response)\n        this.isLoading = false\n      })\n    },\n    getProduct (id) {\n      this.$router.push(`/user/product/${id}`)\n    },\n    addCart (id) {\n      console.log(id)\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`\n      this.status.loadingItem = id\n      const cart = {\n        product_id: id,\n        qty: 1\n      }\n      this.$http.post(url, { data: cart })\n        .then((res) => {\n          this.status.loadingItem = ''\n          console.log(res)\n          this.getCart()\n        })\n    },\n    getCart () {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`\n      this.isLoading = true\n      this.$http.get(url).then((response) => {\n        console.log(response)\n        this.cart = response.data.data\n        this.cartTotal = response.data.data.carts.length\n        this.isLoading = false\n      })\n    },\n    updateCart (item) {\n      console.log('updateCart', item)\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${item.id}`\n      this.isLoading = true\n      this.status.loadingItem = item.id\n      const cart = {\n        product_id: item.product_id,\n        qty: item.qty\n      }\n      this.$http.put(url, { data: cart }).then((res) => {\n        console.log(res)\n        this.status.loadingItem = ''\n        this.getCart()\n      })\n    },\n    removeCartItem (id) {\n      this.status.loadingItem = id\n      console.log(id)\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`\n      this.isLoading = true\n      this.$http.delete(url).then((response) => {\n        this.$httpMessageState(response, '移除購物車品項')\n        this.status.loadingItem = ''\n        this.getCart()\n        this.isLoading = false\n        this.$emit('emit-remove-cart-item')\n        console.log('emit1')\n      })\n    },\n    addCouponCode () {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/coupon`\n      const coupon = {\n        code: this.coupon_code\n      }\n      this.isLoading = true\n      this.$http.post(url, { data: coupon }).then((response) => {\n        this.$httpMessageState(response, '加入優惠券')\n        this.getCart()\n        this.isLoading = false\n      })\n    },\n    createOrder () {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order`\n      const order = this.form\n      this.$http.post(url, { data: order })\n        .then((res) => {\n          console.log(res)\n          const orderId = res.data.orderId\n          this.$router.push(`/user/checkout/${orderId}`)\n        })\n    },\n    getCoupon () {\n      if (this.isClick === true) {\n        this.isClick = false\n        const num = Math.floor(Math.random() * 3)\n        console.log(num)\n        if (num === 0 || num === 1) {\n          this.coupon = '週年慶9折'\n        } else if (num === 2) {\n          this.coupon = '週年慶5折'\n        }\n      }\n    }\n  },\n  created () {\n    this.getProducts()\n    this.getCart()\n  }\n}\n</script>\n","import { render } from \"./UserCart.vue?vue&type=template&id=55c9957e\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\sunnyEnergyHealingEcommerce\\\\new-project\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar functionToString = uncurryThis(FunctionPrototype.toString);\nvar nameRE = /function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/;\nvar regExpExec = uncurryThis(nameRE.exec);\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return regExpExec(nameRE, functionToString(this))[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}